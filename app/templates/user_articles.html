<!DOCTYPE html>
<html>
<head>
    <title>Flask app</title>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='user_articles.css') }}">
</head>
<body>
<header>
    <div class="container">
        <h1 class="logo">Main page</h1>
        <strong><nav>
            <ul class="menu">
                <li><a href="{{ url_for('index') }}">Home</a></li>
                <li><a href="{{ url_for('login') }}">Login</a></li>
                <!-- Add My Profile button with conditional redirection -->
                <li><a href="{% if 'user_id' in session %}{{ url_for('profile') }}{% else %}{{ url_for('login') }}{% endif %}">Profile</a></li>
            </ul>
        </nav>
    </div>
</header>
<div class="container">
    <h2>Articles Written by You</h2>
    <div class="articles">
        {% if articles %}
            {% for article in articles %}
                <div class="article">
                    <h2>{{ article.title }}</h2>
                    <p>{{ article.content }}</p>
                    <p>Author: {{ article.author.name }} {{ article.author.surname }}</p>

                    <!-- Add delete button -->
                    <form action="{{ url_for('delete_article', article_id=article.id) }}" method="post">
                        <button type="submit" class="delete_button">Delete</button>
                    </form>
                    
                    <!-- Add edit button -->
                    <form action="{{ url_for('edit_article', article_id=article.id) }}" method="get">
                        <button type="submit" class="edit_button">Edit</button>
                    </form>
                    <!-- <a href="{{ url_for('edit_article', article_id=article.id) }}" class="edit_delete_button">Edit</a> -->
                </div>
            {% endfor %}
        {% else %}
            <p>No articles found.</p>
        {% endif %}
    </div>
</div>
</body>
</html>
